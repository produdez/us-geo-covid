<div class="h-full flex flex-col">
    <div class="grid grid-cols-4 gap-3 w-full px-5 grow" >
        <div class="col-span-2 box"> 
            <div *ngIf="!loadingDateRange; then mapBlock else loadingBlock"></div>
        </div>
        <div class="col-span-2 box"> 
            <div class="component-border-box w-full h-full">
                <div *ngIf="stateSelected(); then detailBlock else nothingBlock"></div>
            </div>
        </div>
    </div>
</div>

<!-- Templates  -->

<ng-template #detailBlock>
    <app-detailed-page [stateIdentifier]="stateInitials | cast"></app-detailed-page>
</ng-template>

<ng-template #nothingBlock>
        <h4 class="text-center italic mt-5"> Select a state for its details !!!</h4>
</ng-template>

<ng-template #mapBlock>
    <app-date-slider 
        [startDate]="startDate | cast" 
        [sliderRange]="dateRange | cast"
        (selectedEvent)="updateDate($event)"
    ></app-date-slider>
    <app-map-page [date]="date | cast"></app-map-page>
</ng-template>

<ng-template #loadingBlock>
    <app-loading></app-loading>
</ng-template>

